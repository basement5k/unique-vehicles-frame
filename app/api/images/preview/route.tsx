import { NextRequest } from 'next/server';\nimport { ImageResponse } from 'next/og';\n\nexport const runtime = 'edge';\n\nexport async function GET(req: NextRequest) {\n  try {\n    const searchParams = req.nextUrl.searchParams;\n    const imageUrl = searchParams.get('url');\n\n    if (!imageUrl) {\n      return new Response('Missing image URL', { status: 400 });\n    }\n\n    return new ImageResponse(\n      (\n        <div\n          style={{\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            justifyContent: 'center',\n            width: '100%',\n            height: '100%',\n            backgroundColor: 'white',\n            padding: 20,\n          }}\n        >\n          <div\n            style={{\n              display: 'flex',\n              flexDirection: 'column',\n              alignItems: 'center',\n              width: '100%',\n              height: '100%',\n            }}\n          >\n            <div\n              style={{\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                backgroundColor: '#8A63D2',\n                color: 'white',\n                width: '100%',\n                padding: '12px 0',\n                fontSize: 24,\n                fontWeight: 'bold',\n                marginBottom: 16,\n                borderRadius: 8,\n              }}\n            >\n              Unique Vehicle Sighting\n            </div>\n\n            <div\n              style={{\n                display: 'flex',\n                justifyContent: 'center',\n                width: '100%',\n                height: '400px',\n                position: 'relative',\n                marginBottom: 16,\n                borderRadius: 8,\n                overflow: 'hidden',\n                border: '1px solid #ddd',\n              }}\n            >\n              {/* eslint-disable-next-line @next/next/no-img-element */}\n              <img\n                src={imageUrl}\n                alt=\"Vehicle\"\n                style={{\n                  width: '100%',\n                  height: '100%',\n                  objectFit: 'cover',\n                }}\n              />\n            </div>\n\n            <div\n              style={{\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                width: '100%',\n                padding: '12px',\n                fontSize: 20,\n                color: '#333',\n                backgroundColor: '#f5f5f5',\n                borderRadius: 8,\n              }}\n            >\n              Continue to Add Vehicle Details\n            </div>\n          </div>\n        </div>\n      ),\n      {\n        width: 1200,\n        height: 630,\n      }\n    );\n  } catch (error) {\n    console.error('Error generating image preview:', error);\n    return new Response('Error generating preview', { status: 500 });\n  }\n}